<div class="main-content">
    <div class="container-fluid">
        <div class="card">
            <div _ngcontent-c4="" class="card-header card-header-warning card-header-icon">
                <div _ngcontent-c4="" class="card-icon">
                    <i _ngcontent-c4="" class="material-icons">list</i>
                </div>
                <h4 _ngcontent-c4="" class="card-title">Agregar producto</h4>
            </div>
            <div class="card-body">
                <div class="table-responsive">

                    <table mat-table [dataSource]="dataProductoAgregar" matSort class="table table-striped table-no-bordered table-hover"
                        cellspacing="1" width="100%" style="width:100%">

                        <ng-container matColumnDef="RENGLON">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning"> RENGLON</th>
                            <td mat-cell *matCellDef="let row"> {{row.RENGLON}} </td>
                        </ng-container>
                        <ng-container matColumnDef="ARTICULO">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning"> ARTICULO
                            </th>
                            <td mat-cell *matCellDef="let row"> {{row.ARTICULO}}</td>
                        </ng-container>
                        <ng-container matColumnDef="COMBINACION">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning"> COMBINACION
                            </th>
                            <td mat-cell *matCellDef="let row"> {{row.COMBINACION}}</td>
                        </ng-container>
                        <ng-container matColumnDef="PRESENTACION">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning"> PRESENTACION
                            </th>
                            <td mat-cell *matCellDef="let row"> {{row.PRESENTACION}}</td>
                        </ng-container>
                        <ng-container matColumnDef="PRESENTACION_NOMBRE">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning"> NOMBRE
                                PRESENTACION
                            </th>
                            <td mat-cell *matCellDef="let row"> {{row.PRESENTACION_NOMBRE}}</td>
                        </ng-container>
                        <ng-container matColumnDef="DESCRIPCION_LARGA">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning">
                                DESCRIPCION </th>
                            <td mat-cell *matCellDef="let row"> {{row.DESCRIPCION_LARGA}}</td>
                        </ng-container>
                  
                        <tr mat-header-row *matHeaderRowDef="['RENGLON','ARTICULO','COMBINACION','PRESENTACION','PRESENTACION_NOMBRE']"></tr>
                        <tr mat-row *matRowDef="let row; columns: ['RENGLON','ARTICULO','COMBINACION','PRESENTACION','PRESENTACION_NOMBRE'];">
                        </tr>
                    </table>
                    <div></div>
                    <table mat-table [dataSource]="dataProductoAgregar" matSort class="table table-striped table-no-bordered table-hover"
                        cellspacing="1" width="100%" style="width:100%">

                  
                        <ng-container matColumnDef="NOMBRE">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning">
                                NOMBRE (editable) </th>
                            <td mat-cell *matCellDef="let row" minlength="500"> <input type="text" class="form-control" [(ngModel)]="comproducto" ></td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="['NOMBRE']"></tr>
                        <tr mat-row *matRowDef="let row; columns: ['NOMBRE'];">
                        </tr>
                    </table>
                    <div></div>
                    <table mat-table [dataSource]="dataProductoAgregar" matSort class="table table-striped table-no-bordered table-hover"
                        cellspacing="1" width="100%" style="width:100%">

                  
                        <ng-container matColumnDef="DESCRIPCION_LARGA">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning">
                                DESCRIPCION </th>
                            <td mat-cell *matCellDef="let row"> {{row.DESCRIPCION_LARGA}}</td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="['DESCRIPCION_LARGA']"></tr>
                        <tr mat-row *matRowDef="let row; columns: ['DESCRIPCION_LARGA'];">
                        </tr>
                    </table>
                    <div></div>
                    <table mat-table [dataSource]="dataProductoAgregar" matSort class="table table-striped table-no-bordered table-hover"
                        cellspacing="1" width="100%" style="width:100%">

                        <ng-container matColumnDef="PRECIO_ESTIMADO">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning">
                                PRECIO ESTIMADO </th>
                            <td mat-cell *matCellDef="let row">

                                <mat-form-field class="example-mid-width">
                                    <input matInput placeholder="Precio" type="number" [(ngModel)]="infoAdicional.precioEstimado" required>
                                </mat-form-field>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="ANIO_VIGENTE">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning">
                                AÑO VIGENCIA </th>
                            <td mat-cell *matCellDef="let row">
                                <mat-form-field class="example-mid-width">
                                    <input matInput placeholder="Año vigencia" type="number" [(ngModel)]="infoAdicional.anioVigencia" required>
                                </mat-form-field>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="TIPO">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="text-warning">
                                TIPO </th>
                            <td mat-cell *matCellDef="let row">
                                <mat-form-field>
                                    <mat-select placeholder="Tipo" (selectionChange)="selected($event.value)"
                                        [(ngModel)]="selectedValue" name="tipo">
                                        <mat-option *ngFor="let tipo of tipos" [value]="tipo.value">
                                            {{tipo.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="['PRECIO_ESTIMADO','ANIO_VIGENTE','TIPO']"></tr>
                        <tr mat-row *matRowDef="let row; columns: ['PRECIO_ESTIMADO','ANIO_VIGENTE','TIPO'];">
                        </tr>
                    </table>

                </div>

                <div id="unidades" [hidden]='oculta'>
                    <div fxLayout fxLayoutAlign="center center">
                        <mat-form-field fxFlex="40%">
                            <input matInput type="text" (keyup)="doFilter($event.target.value)" placeholder="Filtro">
                        </mat-form-field>
                    </div>
                    <table mat-table [dataSource]="dataDependencia" class="mat-elevation-z8">

                        <!-- Checkbox Column -->
                        <ng-container matColumnDef="select">
                            <th mat-header-cell *matHeaderCellDef>
                                <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
                                    [indeterminate]="selection.hasValue() && !isAllSelected()">
                                </mat-checkbox>
                            </th>
                            <td mat-cell *matCellDef="let row">
                                <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
                                    [checked]="selection.isSelected(row)">
                                </mat-checkbox>
                            </td>
                        </ng-container>

                        <!-- Position Column -->
                        <ng-container matColumnDef="DEPENDENCIA">
                            <th mat-header-cell *matHeaderCellDef> CODIGO </th>
                            <td mat-cell *matCellDef="let row"> {{row.DEPENDENCIA}} </td>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="NOMBRE_DEPENDENCIA">
                            <th mat-header-cell *matHeaderCellDef> NOMBRE DE LA DEPENDENCIA </th>
                            <td mat-cell *matCellDef="let row"> {{row.NOMBRE_DEPENDENCIA}} </td>
                        </ng-container>

                        

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)">
                        </tr>
                    </table>
                    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                </div>

                <div id="save">
                    <button mat-raised-button type="button" class="btn btn-success btn-md" style="padding: 0.5em; margin: 0.5em"
                        (click)='save()'>
                        <i class="material-icons">save</i> Guardar
                    </button>
                </div>
            </div>


        </div>
        <button mat-raised-button type="button" class="btn btn-info btn-md" style="padding: 0.5em; margin: 0.5em"
            (click)='volver()'>
            <i class="material-icons">restore</i> Regresar
        </button>

    </div>
</div>